\chapter{Metodi Test DEA} \label{CAP:due}
\section{CCR}
\bigskip

\paragraph{} Proseguiamo la trattazione esponendo il modello presentato per la prima volta da Charnes, Cooper e Rhodes nel 1978, che va sotto il nome di CCR.
\begin{definiz} Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo il CCR-Model nel seguente modo:
\begin{equation} \label{EQ:ccr-feq}
\begin{split}
(FP_o) \qquad & \max_{\boldsymbol{u,v}} \theta = \frac{u_1y_{1o} + \dots + u_sy_{so}}{v_1x_{1o} + \dots + v_mx_{mo}} \\
\text{t.c} \qquad & \frac{u_1y_{1j} + \dots + u_sy_{sj}}{v_1x_{1j} + \dots + v_mx_{mj}} \geq 1 \qquad (j=1,\dots,n)\\
& v_1,\dots,v_m \geq 0 \\
& u_1,\dots,u_s \geq 0 \\
\end{split}
\end{equation}
dove $v_j$ e $u_j$ rappresentano i pesi che associamo a rispettivamente a ciascun input e output.
\end{definiz}
\paragraph{}
Osserviamo che la \ref{EQ:ccr-feq} rappresenta un problema frazionale, quindi per poterlo eseguire con un elaboratore \'e risulta necessario riformularlo in modo da ottenere un problema lineare. 
\begin{definiz}
 Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo il CCR-Model nel seguente modo:
\begin{equation} \label{EQ:ccr-leq}
\begin{split}
(FP_o) \qquad & \max_{\boldsymbol{\mu,\nu}} \theta = \mu_1y_{1o} + \dots + \mu_sy_{so} \\
\text{t.c} \qquad & \nu_1x_{1o} + \dots + \nu_mx_{mo} = 1\\
& \mu_1y_{1j} + \dots + \mu_sy_{sj} \leq  \nu_1x_{1j} + \dots + \nu_mx_{mj} \quad (j = 1, \dots, n) \\
& \nu_1,\dots,\nu_m \geq 0 \\
& \mu_1,\dots,\mu_s \geq 0 \\
\end{split}
\end{equation}
dove $\nu_j$ e $\mu_j$ rappresentano i pesi che associamo a rispettivamente a ciascun input e output.
\end{definiz}
\begin{teor}
La \ref{EQ:ccr-feq} \'e equivalente alla \ref{EQ:ccr-leq}
\end{teor}
\begin{teor}(Unit Invariant Theorem)
La soluzione ottimale della \ref{EQ:ccr-feq} e \ref{EQ:ccr-leq} che indicheremo con $\max \theta = \theta^*$ sono indipendeti dalle unit\'a di misura con cui sono espressi output e input a patto che per ogni \emph{DMU} essi siano valutati con la stessa unit\'a di misura.
\end{teor}
\begin{definiz} (CCR-Efficiency) La DMU \'e efficiente per il CCR-Model se $\theta^* = 1$ e $(\boldsymbol{v^*, u^*})$, con $\boldsymbol{v^* \geq 0}$ e $\boldsymbol{u^* \geq 0}$. Altrimenti la DMU \'e inefficiente.
\end{definiz} 
\begin{definiz} Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo il CCR-Duale nel seguente modo:
\begin{equation}
\begin{split}
(DLP_0) \qquad & \min_{\theta, \boldsymbol{\lambda}} \theta \\
\text{t.c} \qquad & \theta\boldsymbol{x_o} - \boldsymbol{X\lambda} \geq 0 \\
& \boldsymbol{Y\lambda} \geq \boldsymbol{y_o} \\
& \boldsymbol{\lambda} \geq 0
\end{split}
\end{equation}
dove $\boldsymbol{\lambda} \in \mathbb{R}^{n}$ rappresenta il vettore dei pesi.
\end{definiz}
\begin{definiz}
Definiamo i vettori degli input in eccesso e degli output carenti, indicati rispettivamente come $\boldsymbol{s^{-}}$ e $\boldsymbol{s^{+}}$, nel seguente modo:
\begin{equation}
\begin{split}
\boldsymbol{s^{-}} = \theta \boldsymbol{x_o} - \boldsymbol{X \lambda} \text{ , }
\boldsymbol{s^{+}} = \boldsymbol{Y \lambda} -\boldsymbol{y_o}
\end{split}
\end{equation}
\end{definiz}
\begin{definiz} Usando la soluzione ottima del modello CCR-DUAL risolviamo il seguente sistema:
\begin{equation} \label{EQ:ccr-leq2}
\begin{split}
max_{\boldsymbol{\lambda, s^{-},s^{+}}} & \qquad \omega = \boldsymbol{es^{-} + es^{+}} \\ \text{t.c.} & \qquad \boldsymbol{s^{-}} = \theta^{*}\boldsymbol{x_o - X\lambda} \\ & \qquad
\boldsymbol{s^{+}} = \boldsymbol{Y\lambda - y_o} \\ & \qquad \boldsymbol{\lambda \geq 0 \text{ , } s^{-} \geq 0 \text{ , } s^{+} \geq 0} 
\end{split}
\end{equation}
dove $\boldsymbol{e} = (1,\ldots ,1)$. Definiamo tale modello II fase.
\end{definiz}
\begin{definiz}
Una soluzione ottima $(\boldsymbol{\lambda^*, s^{-*}, s^{+*}})$ del modello precedentemente esposto \'e  chiamata "max-slack solution". Se tale soluzione soddisfa $\boldsymbol{s^{-*} = 0}$ e $\boldsymbol{s^{+*} = 0}$ viene chiamata "zero-slack".
\end{definiz}
\begin{definiz}
Se una soluzione ottimale $(\boldsymbol{\theta^{*},\lambda^*, s^{-*}, s^{+*}})$ dei due modelli esposti soddisfa $\theta^* = 1$ ed \'e una soluzione zero-slack allora la DMU \'e chiamata CCR-efficient. Altrimenti \'e inefficiente.
\end{definiz}
\begin{definiz}
Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo il CCR-Model orientato agli Output nel seguente modo:
\begin{equation} \label{eq1}
\begin{split}
(DLPO_0) \qquad & \min_{\theta, \boldsymbol{\lambda}} \theta \\
\text{t.c} \qquad & \boldsymbol{x_o} - \boldsymbol{X\lambda} \geq 0 \\
& \boldsymbol{Y\lambda} \geq \theta\boldsymbol{y_o} \\
& \boldsymbol{\lambda} \geq 0
\end{split}
\end{equation}
\end{definiz}
\begin{oss}
Anche in questo caso possiamo definire i vettori di slack:
\begin{equation}
X\boldsymbol{\lambda + s^{-}} = \boldsymbol{x_o} \\
Y\boldsymbol{\lambda - s^{+}} = \theta\boldsymbol{y_o} 
\end{equation}
\end{oss}
\begin{oss} Supponiamo di avere $(\theta^{*}, \boldsymbol{s^{*-}}, \boldsymbol{s^{*+}})$ soluzioni ottimali del CCR-Model e $(\mu^{*}, \boldsymbol{t^{*-}}, \boldsymbol{t^{*+}})$ allora si ha che:
\begin{equation}
\boldsymbol{t^{*-}} = \boldsymbol{s^{*-}} / \theta^{*}, 
\boldsymbol{t^{*+}} = \boldsymbol{s^{*+}} / \theta^{*}
\end{equation}
\end{oss}
\begin{definiz} (Pareto-Koopmans Efficiency) Una DMU \'e pienamente efficiente se e solo se non \'e possibile aumentare qualunque input o output senza peggiorarne un altro.
\end{definiz} 
\begin{teor} LE due definizioni di CCR-Efficient sono equivalenti.
\end{teor}
\begin{oss} Per una $DMU_{o}$ inefficiente, noi definiamo l'insieme di riferimento $E_{o}$, usando la max-slack solution ottenuta usando la \ref{EQ:ccr-leq2} e la \ref{EQ:ccr-leq}:
\begin{equation}
E_{o} = \lbrace j| \lambda_{j}^* \geq 0\rbrace \qquad (j\in \lbrace1, \dots, n\rbrace).
\end{equation}
Una soluzione ottimale pu\'o essere espressa come:
\begin{equation}
\begin{split}
\theta^*\boldsymbol{x_{o}} = & \sum_{j \in E_{o}} \boldsymbol{x_{j}\lambda^*_{j} + s^{-*}} \\
\boldsymbol{y_{o}} = & \sum_{j \in E_{o}} \boldsymbol{y_{j}\lambda^*_{j} - s^{+*}}
\end{split}
\end{equation}
Questo pu\'o essere interpretato come segue:
\begin{equation}
\boldsymbol{x_{o}} \geq \theta^* \boldsymbol{x_{o} - s^{-*}} = \sum_{j \in E_{o}} \boldsymbol{x_{j}\lambda^*_{j}}
\end{equation}
quindi
\begin{equation}
\boldsymbol{x_0} \geq \text{tecnice - mista inefficiente} \\
= \text{ una combinazione positiva degli input valutati}
\end{equation}
In modo analogo 
\begin{equation}
\boldsymbol{y_{o}} \leq \boldsymbol{y_{o} + s^{+*}} = \sum_{j \in E_{o}} \boldsymbol{y_{j}\lambda^*_{j}}
\end{equation}
quindi
\begin{equation}
\boldsymbol{y_0} \leq \text{output + carenze} \\
= \text{ una combinazione positiva degli output valutati}
\end{equation}
Concludendo queste relazioni suggeriscono che l'efficienza $(\boldsymbol{x_{o}, y_{o}})$ per una DMU pu\'o essere migliorata riducendo radialmente gli input usando la $\theta^*$ e eliminando gli eccessi $s^{-*}$. In modo analogo si pu\'o agire sugli output aumentando gli output della quantit\'a espressa da $s^{+*}$.
\end{oss}
\paragraph{} Dalle considerazioni fatte fino  ad ora possiamo enunziare la seguente definizione
\begin{definiz} Definiamo le \emph{CCR-projection} come:
\begin{equation}
\begin{split}
\boldsymbol{\hat{x}_{o}} & = \boldsymbol{x_o - \Delta x_{o}} = \theta^*\boldsymbol{x_o - s^{-*}} \leq \boldsymbol{x_o} \\
\boldsymbol{\hat{y}_{o}} & = \boldsymbol{y_o + \Delta y_{o}} = \theta^*\boldsymbol{y_o + s^{+*}} \geq \boldsymbol{y_o} 
\end{split}
\end{equation}
\end{definiz}
\section{BCC}
\bigskip
\begin{definiz}
Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo il BCC-Model nel seguente modo:
\begin{equation}
\begin{split}
(BCC_0) \qquad & \min_{\theta, \boldsymbol{\lambda}} \theta \\
\text{t.c} \qquad & \theta\boldsymbol{x_o} - \boldsymbol{X\lambda} \geq 0 \\
& \boldsymbol{Y\lambda} \geq \boldsymbol{y_o} \\
& \boldsymbol{\lambda} \geq 0 \\
& \boldsymbol{e\lambda} = 1
\end{split}
\end{equation}
dove $\boldsymbol{\lambda} \in \mathbb{R}^{n}$ rappresenta il vettore dei pesi ed $\boldsymbol{e} = (1 \dots 1)$.
\end{definiz}
\begin{definiz}
Se una soluzione ottima $(\theta^{*}, \boldsymbol{\lambda^{*}, s^{-*}, s^{+*}})$, ottenuta applicando la II fase al BCC-Model, soddisfa le condizioni $\theta^{*} = 1$ e "no slack solution" allora la DMU \'e chiamata BCC-efficient, altrimenti \'e inefficiente. 
\end{definiz}
\begin{definiz}
Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo il BCC orientato all'Output nel seguente modo:
\begin{equation}
\begin{split}
(BCC_0-0) \qquad & \max_{\theta, \boldsymbol{\lambda}} \theta \\
\text{t.c} \qquad & \boldsymbol{X\lambda} \leq \boldsymbol{x_o} \\
& \boldsymbol{Y\lambda} \geq \theta\boldsymbol{y_o} \\
& \boldsymbol{\lambda} \geq 0 \\
& \boldsymbol{e\lambda} = 1
\end{split}
\end{equation}
dove $\boldsymbol{\lambda} \in \mathbb{R}^{n}$ rappresenta il vettore dei pesi ed $\boldsymbol{e} = (1 \dots 1)$.
\end{definiz}
\section{ADDITIVE MODEL}
\bigskip
\begin{definiz}
Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo l'ADDITIVE-MODEL nel seguente modo:
\begin{equation}
\begin{split}
(ADD_0) \qquad & \max_{\boldsymbol{\lambda, s^+, s^-}} \theta = \boldsymbol{es^- + e^+}\\
\text{t.c} \qquad & \boldsymbol{X\lambda + s^-} =  \boldsymbol{x_o} \\
& \boldsymbol{Y\lambda - s^+} = \boldsymbol{y_o} \\
& \boldsymbol{e\lambda} = 1 \\
& \boldsymbol{\lambda} \geq 0 , \boldsymbol{s^-} \geq 0 ,\boldsymbol{s^+} \geq 0 
\end{split}
\end{equation}
dove $\boldsymbol{\lambda} \in \mathbb{R}^{n}$ rappresenta il vettore dei pesi ed $\boldsymbol{e} = (1 \dots 1)$.
\end{definiz}
\begin{definiz}
Una DMU si dice \emph{ADD-efficient} se e solo se $\boldsymbol{s^{-*} = 0}$ e $\boldsymbol{s^{+*} = 0}$
\end{definiz}
\section{SBM MODEL}
\bigskip
\begin{definiz}
Sia $\boldsymbol{X} \in \mathbb{R}^{m \times n}$ la matrice degli Input e sia $\boldsymbol{Y} \in \mathbb{R}^{s \times n}$  la matrice degli Output. Definiamo SBM-DUALE nel seguente modo:
\begin{equation}
\begin{split}
(D-SBM) \qquad & \max_{\theta, \boldsymbol{v, u}} \theta \\
\text{t.c} \qquad & \theta + \boldsymbol{vx_o - uy_o} =  1 \\
& \boldsymbol{uY - vX} \leq \boldsymbol{0} \\
& \boldsymbol{v} \geq 1/m[1/\boldsymbol{x_o}] \\
& \boldsymbol{u} \geq \theta/s[1/\boldsymbol{y_o}] \\
\end{split}
\end{equation}
dove con $[1/\boldsymbol{x}]$ rappresenta il vettore $(1/x_1, \dots , 1/x_m)$.
\end{definiz}
\begin{definiz}
Una DMU si dice \emph{SBM-efficient} se e solo se $\theta = 1$
\end{definiz}
